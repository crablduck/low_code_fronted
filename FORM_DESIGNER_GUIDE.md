# 表单设计器使用指南

## 🎯 功能概述

表单设计器是一个可视化的表单构建工具，支持拖拽式设计、实时预览和数据配置功能。

## 🚀 快速开始

### 1. 访问表单设计器
- 启动项目：`npm run dev`
- 访问地址：http://localhost:3000/form-design

### 2. 界面布局

```
┌─────────────────────────────────────────────────────────────┐
│                    顶部工具栏                                │
├─────────────┬─────────────────────────┬─────────────────────┤
│   组件库    │       设计画布          │     属性面板        │
│             │                         │                     │
│ - 文本输入  │   拖拽组件到此处        │ ┌─ 字段属性 ─┐     │
│ - 数字输入  │   开始设计表单          │ │  字段名     │     │
│ - 下拉选择  │                         │ │  标签       │     │
│ - 单选框    │                         │ │  占位符     │     │
│ - 多选框    │                         │ │  必填       │     │
│ - 日期选择  │                         │ └─────────────┘     │
│ - 多行文本  │                         │ ┌─ 数据配置 ─┐     │
│             │                         │ │  接口路径   │     │
│             │                         │ │  字段映射   │     │
│             │                         │ │  Schema预览 │     │
│             │                         │ └─────────────┘     │
└─────────────┴─────────────────────────┴─────────────────────┘
```

## 📝 使用步骤

### 第一步：设计表单
1. **拖拽组件**：从左侧组件库拖拽组件到中间画布
2. **配置字段**：点击字段，在右侧属性面板编辑属性
3. **调整顺序**：直接在画布中调整字段顺序

### 第二步：配置数据
1. **切换到数据配置标签页**
2. **设置接口路径**：配置表单提交的API地址
3. **配置字段映射**：设置字段名与数据模型的映射关系

### 第三步：保存和预览
1. **预览表单**：点击预览按钮查看表单效果
2. **保存表单**：点击保存按钮保存表单Schema

## 🔧 数据配置详解

### 接口路径配置
- **用途**：指定表单提交时的API接口地址
- **默认值**：`/api/data`
- **示例**：`/api/patient/register`

### 字段映射配置
- **用途**：将表单字段名映射到数据库字段名
- **格式**：表格形式，支持实时编辑
- **示例**：
  ```
  字段名    标签      映射名称
  name     姓名      patient_name
  gender   性别      patient_gender
  age      年龄      patient_age
  ```

## 📋 生成的Schema格式

```json
{
  "formName": "入院登记表",
  "fields": [
    {
      "id": "field_1640995200000",
      "type": "text",
      "field": "name",
      "label": "患者姓名",
      "placeholder": "请输入患者姓名",
      "required": true
    },
    {
      "id": "field_1640995201000",
      "type": "radio",
      "field": "gender",
      "label": "性别",
      "placeholder": "请选择性别",
      "required": true,
      "options": ["男", "女"]
    }
  ],
  "apiEndpoint": "/api/patient/register",
  "fieldMapping": {
    "name": "patient_name",
    "gender": "patient_gender"
  }
}
```

## 🎨 支持的组件类型

| 组件类型 | 说明 | 配置项 |
|---------|------|--------|
| 文本输入 | 单行文本输入框 | 字段名、标签、占位符、必填 |
| 数字输入 | 数字输入框 | 字段名、标签、占位符、必填 |
| 下拉选择 | 下拉选择框 | 字段名、标签、占位符、必填、选项 |
| 单选框 | 单选按钮组 | 字段名、标签、必填、选项 |
| 多选框 | 多选框组 | 字段名、标签、必填、选项 |
| 日期选择 | 日期选择器 | 字段名、标签、占位符、必填 |
| 多行文本 | 多行文本输入框 | 字段名、标签、占位符、必填 |

## 💡 使用技巧

1. **快速复制字段**：选中字段后使用Ctrl+C/Ctrl+V复制
2. **批量编辑**：在数据配置面板中批量设置字段映射
3. **实时预览**：随时点击预览按钮查看表单效果
4. **Schema导出**：在数据配置面板查看完整的JSON Schema

## 🔍 常见问题

**Q: 如何删除字段？**
A: 点击字段右上角的删除按钮

**Q: 如何修改字段顺序？**
A: 目前需要删除后重新添加，后续版本将支持拖拽排序

**Q: 字段映射有什么用？**
A: 用于将前端表单字段名映射到后端数据库字段名，便于数据处理

**Q: 生成的Schema如何使用？**
A: 可以保存为JSON文件，用于后端表单渲染和数据验证

## 🚀 下一步计划

- [ ] 支持字段拖拽排序
- [ ] 增加更多组件类型（文件上传、富文本等）
- [ ] 支持表单验证规则配置
- [ ] 支持表单样式自定义
- [ ] 支持表单模板保存和加载 