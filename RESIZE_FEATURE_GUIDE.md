# 表单组件缩放和调节功能指南

## 🎯 功能概述

表单设计器现在支持对组件进行缩放和调节宽度功能，让您可以精确控制每个表单字段的尺寸。

## ✨ 新增功能

### 1. 调节大小手柄
当选中表单字段时，会显示三个调节手柄：

#### 右侧手柄（宽度调节）
- **位置**: 字段右侧中间
- **功能**: 左右拖拽调节字段宽度
- **光标**: 双向水平箭头 (ew-resize)
- **适用**: 所有字段类型

#### 底部手柄（高度调节）
- **位置**: 字段底部中间
- **功能**: 上下拖拽调节字段高度
- **光标**: 双向垂直箭头 (ns-resize)
- **适用**: 主要针对多行文本框 (textarea)

#### 右下角手柄（同时调节宽高）
- **位置**: 字段右下角
- **功能**: 对角拖拽同时调节宽度和高度
- **光标**: 对角箭头 (nw-resize)
- **适用**: 所有字段类型

### 2. 调节功能特性

#### 智能约束
- **最小宽度**: 100px，确保字段可用性
- **最小高度**: 60px，保证内容可见
- **实时预览**: 拖拽过程中实时显示尺寸变化

#### 视觉反馈
- **调节状态**: 调节时字段显示蓝色边框和阴影
- **手柄样式**: 蓝色背景，白色边框，悬停时变深
- **选中显示**: 只有选中的字段才显示调节手柄

## 🚀 使用方法

### 基础操作
1. **选择字段**: 点击任意表单字段进行选择
2. **显示手柄**: 选中后自动显示三个调节手柄
3. **开始调节**: 鼠标悬停在手柄上，光标变为对应的调节图标
4. **拖拽调节**: 按住鼠标左键拖拽调节尺寸
5. **完成调节**: 释放鼠标完成调节

### 具体操作示例

#### 调节文本输入框宽度
```
1. 点击选择文本输入框
2. 将鼠标移到右侧蓝色手柄上
3. 光标变为 ↔ 双向箭头
4. 按住左键向右拖拽增加宽度
5. 向左拖拽减少宽度
```

#### 调节多行文本框高度
```
1. 点击选择多行文本框
2. 将鼠标移到底部蓝色手柄上
3. 光标变为 ↕ 双向箭头
4. 按住左键向下拖拽增加高度
5. 向上拖拽减少高度
```

#### 同时调节宽高
```
1. 点击选择任意字段
2. 将鼠标移到右下角手柄上
3. 光标变为 ↖ 对角箭头
4. 按住左键对角拖拽同时调节宽高
```

## 🎨 样式配置

### CSS 类名
```css
.resize-handles          /* 手柄容器 */
.resize-handle           /* 通用手柄样式 */
.resize-handle-right     /* 右侧宽度手柄 */
.resize-handle-bottom    /* 底部高度手柄 */
.resize-handle-corner    /* 右下角综合手柄 */
.form-field.resizing     /* 调节状态样式 */
```

### 手柄样式特点
- **颜色**: 主题蓝色 (#409eff)
- **尺寸**: 8-12px，便于操作
- **层级**: z-index: 15，确保在最上层
- **交互**: 悬停时颜色加深

## 📊 技术实现

### 核心功能
- **事件处理**: mousedown、mousemove、mouseup
- **尺寸计算**: getBoundingClientRect() 获取元素尺寸
- **样式更新**: 动态修改字段的 style 属性
- **约束检查**: 最小尺寸限制

### 数据绑定
```typescript
// 调节大小相关状态
const isResizing = ref(false)
const resizeStartPosition = ref({ x: 0, y: 0 })
const resizeFieldIndex = ref(-1)
const resizeDirection = ref('')
const originalSize = ref({ width: 0, height: 0 })
```

## 🔧 与其他功能的配合

### 样式配置联动
- 调节宽度时自动设置 `width: 'custom'`
- 自动更新 `customWidth` 属性
- 高度调节主要影响 textarea 类型字段

### 拖拽功能兼容
- 拖拽手柄位于右下角
- 调节手柄分布在其他位置
- 互不干扰，功能独立

### 右键菜单集成
- 可通过右键菜单复制样式
- 包含调节后的尺寸信息
- 支持样式粘贴到其他字段

## 🎯 使用场景

### 表单布局优化
- **长文本字段**: 增加宽度容纳更多内容
- **多行输入**: 调节高度提供更大编辑空间
- **紧凑布局**: 减小字段尺寸节省空间

### 响应式设计
- **不同屏幕**: 根据显示设备调节合适尺寸
- **内容适配**: 根据预期内容长度调节字段大小
- **视觉平衡**: 通过尺寸调节实现更好的视觉效果

## 🚀 访问地址

- **前端应用**: http://localhost:3000
- **表单设计器**: http://localhost:3000/form-design
- **Mock API**: http://localhost:3003/api

现在您可以精确控制每个表单字段的尺寸了！🎉 